// TODO: Optimized sliding-window version
